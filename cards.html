<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" href="img/card.ico" type="image/x-icon">
    <link rel="shortcut icon" href="img/card.ico" type="image/x-icon">
    <title>抽籤與點名系統</title>
    <style>
        #loading-screen {
            position: fixed;
            top: 0;
            left: 0;
            width: 100vw;
            height: 100vh;
            background-color: #0d0d0d; 
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            color: #fff;
            font-size: 16px;
            z-index: 9999;
        }
        .loading-spinner {
            width: 50px;
            height: 50px;
            border: 5px solid #ccc;
            border-top-color: #ffb366;
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin-bottom: 10px;
        }
        body {
            margin: 0;
            padding: 0;
            font-family: 'YuPearl', Arial, sans-serif;
            min-height: 100vh;
            height: 100%;
            width: 100%;
            overflow: auto;
            background-color: #0d0d0d; 
        }
        #header-container {
            display: flex; 
            justify-content: center; 
            align-items: center; 
            padding: 10px; 
            gap: 10px;
        }
        #video-background {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            object-fit: cover;
            z-index: -2;
        }
        #overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.6);
            z-index: -1;
        }
        h1 {
            margin: 0;
            color: #ffffff;
            font-size: 18px;
        }
        #buttons-container {
            display: flex;
            justify-content: center;
            gap: 10px;
            margin: 10px 0;
        }
        .button {
            font-family: 'NaniFont-Regular', Arial, sans-serif !important;
            padding: 10px 20px;
            font-size: 18px;
            color: #fff;
            text-align: center;
            border-radius: 6px;
            cursor: pointer;
            box-shadow: 0px 3px 5px rgba(0, 0, 0, 0.3);
        }
        #shuffle-btn, #call-btn {
            font-weight: bold;
            background-color: #00505d;
        }
        #shuffle-btn:hover, #call-btn:hover {
            background-color: #006475;
        }
        #clear-btn {
            font-weight: bold;
            background-color: #ce452e;
        }
        #clear-btn:hover {
            background-color: #eb664f;
        }
        textarea {
            display: block;
            width: 90%;
            max-width: 550px;
            margin: 10px auto;
            height: 150px;
            max-height: 300px; 
            background-color: rgba(227, 227, 227, 0.75);
            color: #000;
            border: 1px solid #000;
            border-radius: 3px;
            padding: 10px;
            font-size: 16px;
            box-shadow: inset 0px 3px 5px rgba(0, 0, 0, 0.2);
            resize: none;
            overflow-y: auto;
        }
        #input-area::placeholder {
            color: #535353;
        }
        .example-container {
            max-width: 550px;
            width: 90%; 
            margin: 20px auto; 
            padding: 10px;
            border-radius: 8px;
            box-shadow: 0px 4px 6px rgba(0, 0, 0, 0.7);
            background-color: rgba(43, 83, 83, 0.7); 
            display: flex;
            flex-direction: column; 
            align-items: flex-start;
            overflow: hidden; 
            gap: 10px;
        }
        #example-options {
            display: none;
            flex-wrap: wrap; 
            gap: 8px; 
            padding: 10px;
            width: 100%; 
            max-height: 40vh; 
            overflow-y: auto; 
            overflow-x: hidden; 
            border-radius: 8px;
            background-color: rgba(0, 0, 0, 0.4);
            box-shadow: 0px 2px 4px rgba(0, 0, 0, 0.5);
        }
        #example-options.visible {
            visibility: visible;
            opacity: 1;
        }
        .example-option {
            font-family: 'NaniFont-Regular', Arial, sans-serif !important;
            font-size: 16px;
            text-align: center;
            background-color: #176367;
            color: #fff;
            padding: 8px 10px;
            border-radius: 4px;
            cursor: pointer;
            box-shadow: 0px 3px 5px rgba(0, 0, 0, 0.3);
        }
        .example-option:hover {
            background-color: #277377;
        }
        .example-container, #example-options {
            writing-mode: unset;
            width: 90%;
        }
        #example-btn {
            background-color: #003d40; 
            color: #fff; 
            padding: 8px 14px; 
            font-size: 18px; 
            font-weight: bold; 
            border-radius: 6px; 
            cursor: pointer; 
            box-shadow: 0px 4px 5px rgba(0, 0, 0, 0.7);
            text-align: center; 
        }
        #example-btn:hover {
            background-color: #084548; 
        }      
        .card-container {
            position: relative;
            width: 100%;
            height: 100%;
            display: none;
            max-width: 770px;
            min-height: 156.55px;
            max-height: 670px; 
            flex-wrap: wrap;
            justify-content: center;
            margin: 15px auto;
            padding: 10px;
            overflow-y: auto;
            overflow-x: hidden;
            background-color: rgba(20, 20, 20, 0.3);
            border-radius: 4px;
            box-shadow: 0px 4px 6px rgba(0, 0, 0, 0.7);
            border: 2px solid rgba(92, 125, 155, 0.4);
            z-index: 1;
        }
        .card {
            width: 93.75px;
            height: 156.25px;
            margin: 6px;
            position: relative;
            perspective: 1000px;
            cursor: pointer; 
            border: 1px solid rgba(0, 0, 0, 0.2)
            z-index: 2;
        }
        .card .inner {
            position: relative;
            width: 100%;
            height: 100%;
            transform-style: preserve-3d;
            transition: transform 0.6s;
            transform: rotateY(180deg);
        }
        .card.hidden .inner {
            transform: rotateY(0deg);
        }
        .card .back, .card .front {
            position: absolute;
            width: 100%;
            height: 100%;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 4px;
            backface-visibility: hidden;
        }
        .card .back {
            background-image: url('img/backcard.png');
            background-content: center;
            background-size: cover;
        }
        .card .front {
            background-color: #e4dbcf;
            color: #000;
            font-weight: bold;
            writing-mode: vertical-rl;
            text-orientation: upright;
            transform: rotateY(180deg);
        }
/* 卡片基礎樣式 */
.tarot-mode .card {
    width: 150px;
    height: 250px;
    perspective: 1000px; /* 確保 3D 效果 */
}

/* 內部旋轉設定 */
.tarot-mode .card .inner {
    transition: transform 0.5s;
    transform-style: preserve-3d; /* 保持3D效果 */
    transform: rotateY(0deg);
}

/* 翻牌效果 */
.tarot-mode .card.flipped .inner {
    transform: rotateY(180deg); /* 翻轉到正面 */
}

/* 正位樣式 (正面) */
.tarot-mode .card .front {
    transform: rotateY(180deg); /* 預設正面朝內 */
}

/* 背面樣式 */
.tarot-mode .card .back {
    transform: rotateY(0deg); /* 背面朝外 */
}

/* 卡片正面與背面的處理 */
.tarot-mode .card .front,
.tarot-mode .card .back {
    position: absolute;
    width: 100%;
    height: 100%;
    backface-visibility: hidden; /* 隱藏背面 */
}

/* 逆位樣式 (正面內容旋轉180度) */
.tarot-mode .card.reversed .front {
    transform: rotateY(180deg) rotate(180deg); /* 上下顛倒 */
}
/* 確保背面顯示效果 */
.tarot-mode .card.flipped.reversed .back {
    transform: rotateY(0deg); /* 翻回背面 */
}
        .shuffle-card {
            width: 93.75px;
            height: 156.25px;
            margin: 6px;
            position: absolute;
            background-image: url('img/backcard.png');
            background-size: cover;
            border-radius: 4px;
            box-shadow: 0px 4px 6px rgba(0, 0, 0, 0.2);
            z-index: 2;
        }
        .container {
            max-width: 800px; 
            width: 90%; 
            overflow-y: auto;
            overflow-x: hidden;
        }
        @font-face {
            font-family: 'NaniFont-Regular';
            src: url('ttf/NaniFont-Regular.woff') format('woff');
            font-weight: normal;
            font-style: normal;
        }
        @font-face {
            font-family: 'Sangyo';
            src: url('ttf/sangyo.woff2') format('woff2');
            font-weight: normal;
            font-style: normal;
        }
        @font-face {
            font-family: 'YuPearl';
            src: url('ttf/YuPearl-Regular.woff2') format('woff2'), 
            font-weight: normal;
            font-style: normal;
        }
        @font-face {
            font-family: 'ThePeakFont';
            src: url('ttf/ThePeakFont.woff2') format('woff2'), 
            font-weight: normal;
            font-style: normal;
        }
        #description-box {
            font-family: 'ThePeakFont', Arial, sans-serif !important;
            display: none;
            max-width: 550px;
            margin: 20px auto;
            padding: 10px;
            background-color: rgba(31, 64, 97, 0.3);
            border-radius: 8px;
            box-shadow: 0px 4px 6px rgba(0, 0, 0, 0.5);
            border: 2px solid rgba(92, 125, 155, 0.4);
            max-height: 210px;
            overflow-y: auto;
            color: #ffffff;
            font-size: 18px;
            text-align: left;
        }
        .dimmed {
            background-color: rgba(100, 100, 100, 0.1) !important;
            backdrop-filter: blur(4px); 
            -webkit-backdrop-filter: blur(2px);
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.5); 
            border-radius: 4px;
            transition: all 0.3s ease;
        }
        .dimmed-container { 
            display: none;
            max-height: 70vh !important;
            overflow-y: auto !important;
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            padding: 4px ; 
        }
        #time-display {
            display: inline-block;
            padding: 3px; 
            font-size: 13px; 
            color: #ffffff; 
            background-color: rgba(0, 0, 0, 0.5); 
            border-radius: 5px; 
            box-shadow: 0px 4px 6px rgba(0, 0, 0, 0.5); 
            text-align: center; 
            font-family: "Sangyo", sans-serif !important; 
        }
        textarea::-webkit-scrollbar,
        .dimmed-container::-webkit-scrollbar,
        .card-container::-webkit-scrollbar {
            width: 8px;
        }
        textarea::-webkit-scrollbar-track,
        .dimmed-container::-webkit-scrollbar-track,
        .card-container::-webkit-scrollbar-track {
            background: rgba(0, 0, 0, 0.3); 
            border-radius: 10px; 
        }
        textarea::-webkit-scrollbar-thumb,
        .dimmed-container::-webkit-scrollbar-thumb,
        .card-container::-webkit-scrollbar-thumb {
            background: rgba(137, 198, 185, 0.8);
            border-radius: 10px; 
            border: 2px solid rgba(119, 136, 153, 0.5);
            cursor: pointer; 
        }
        textarea::-webkit-scrollbar-thumb:hover,
        .dimmed-container::-webkit-scrollbar-thumb:hover,
        .card-container::-webkit-scrollbar-thumb:hover {
            background: rgba(77, 160, 140, 0.9); 
        }
        textarea::-webkit-scrollbar-corner,
        .dimmed-container::-webkit-scrollbar-corner,
        .card-container::-webkit-scrollbar-corner {
            background: transparent;
        }
        .hoverable {
            transition: transform 0.2s;
        }
        .hoverable:hover {
            transform: translateY(-2px);
        }        
        #audio-control-container {
            position: fixed;
            bottom: 15px;
            left: 15px;
            display: flex;
            align-items: center;
            margin: 0;
            gap: 10px;
            z-index: 1000;
        }        
        #volume-slider {
            width: 120px;
            height: 6px; 
            cursor: pointer;
            appearance: none; 
            background: linear-gradient(to right, rgba(49, 97, 197, 0.4), rgba(19, 67, 167, 0.3));
            border-radius: 5px; 
            outline: none; 
            transition: all 0.2s ease;
        }
        #volume-slider::-webkit-slider-thumb {
            appearance: none; 
            width: 15px; 
            height: 15px;
            background: #4d80e6; 
            border: 2px solid #335292;
            border-radius: 50%;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.5); 
            cursor: pointer;
        }
        #volume-slider::-moz-range-thumb {
            width: 15px;
            height: 15px;
            background: #4d80e6;
            border: 2px solid #335292;
            border-radius: 50%;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.5);
            cursor: pointer;
        }
        #volume-slider:hover {
            background: linear-gradient(to right, rgba(144, 169, 220, 0.4), rgba(19, 67, 167, 0.3));
        }
        #volume-slider:active::-webkit-slider-thumb {
            background: #546ea2;
            transform: scale(1.2); 
        }
        #bgm-button {
            width: 30px;
            height: 30px;
            border-radius: 50%;
            border: none;
            background-color: rgba(79, 101, 121, 0.3);
            color: white;
            font-size: 18px;
            cursor: pointer;
            padding: 0; 
            margin: 0; 
            line-height: 18px;
            box-shadow: 0 4px 6px rgba(0, 6, 8, 0.7);
            transition: all 0.2s ease;
        }
        #bgm-button:hover {
            background-color: rgba(92, 126, 158, 0.3);
        }
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        @media (max-width: 768px) {
            .container {
                width: 85% !important;
            }
            .card {
                width: 93.75px; 
                height: 156.25px;
                font-size: 14px;
            }
            .card-container {
                max-width: 90% !important;
                max-height: 500.75px !important; 
                padding: 8px !important;
            }
            #description-box {
                max-width: 90% !important;
            .example-option {
                left: 25% !important;
                font-size: 10px; 
                padding: 4px 4px;
            }
            #example-options {
                max-height: 30vh; 
            }
            #example-btn {
                padding: 8px 10px !important;
                font-size: 12px !important;
            }
            textarea {
                max-width: 90% ;
            }
            .example-container {
                max-height: 40vh;
                padding: 8px;
                gap: 3px;
                flex-direction: column; 
            }
            #mute-icon {
                font-size: 18px;
                color: #d16f6f;
                margin-right: 8px;
            }
        }
    </style>
</head>
<body>
    <div id="loading-screen">
    <div class="loading-spinner"></div>
    <p>資源載入中，請稍候...</p>
    </div>
    <div id="main-content" style="display: none;">
        <video id="video-background" autoplay muted loop playsinline>
            <source src="v/Wall.webm" type="video/webm">
            Your browser does not support the video tag.
        </video>
        <div id="overlay"></div>

        <div id="header-container">
            <h1>大倉酷抽籤與點名系統</h1>
            <div id="time-display"></div>
        </div>
    
        <div id="audio-control-container">
            <input id="volume-slider" type="range" min="0" max="1" step="0.01" value="0.5">
            <button id="bgm-button">♫</button>
        </div>

        <div id="buttons-container">
            <button id="shuffle-btn" class="button">洗牌抽籤</button>
            <button id="call-btn" class="button">啟動點名</button>
            <button id="clear-btn" class="button">清除資料</button>
        </div>

        <textarea id="input-area" placeholder="請輸入項目，每行一個項目"></textarea>

        <div class="example-container">
            <button id="example-btn" class="button">範例選擇</button>
            <div id="example-options" class="horizontal-options">
                <div class="example-option" data-value="1\n2\n3\n4\n5">數字</div>
                <div class="example-option" data-value="經國\n大竹\n南崁\n南昌\n中壢\n環東\n桃鶯\n正光\n龜山\n八德\n龍潭\n楊梅\n竹北\n公益\n福科\n崇德\n三峽\n板橋\n新泰\n龍安\n西門\n永和">分店點名</div>
                <div class="example-option" data-value="一月\n二月\n三月\n四月\n五月\n六月\n七月\n八月\n九月\n十月\n十一月\n十二月">月份</div>
                <div class="example-option" data-value="大吉\n中吉\n小吉\n末吉\n凶\n大凶">御神籤</div>
                <div class="example-option" data-value="愚者\n魔術師\n女祭司\n皇后\n皇帝\n教皇\n戀人\n戰車\n力量\n隱者\n命運之輪\n正義\n倒吊人\n死神\n節制\n惡魔\n天雷\n星星\n月亮\n太陽\n審判\n世界\n權杖1\n權杖2\n權杖3\n權杖4\n權杖5\n權杖6\n權杖7\n權杖8\n權杖9\n權杖10\n權杖侍者\n權杖騎士\n權杖皇后\n權杖國王\n寶劍1\n寶劍2\n寶劍3\n寶劍4\n寶劍5\n寶劍6\n寶劍7\n寶劍8\n寶劍9\n寶劍10\n寶劍侍者\n寶劍騎士\n寶劍皇后\n寶劍國王\n錢幣1\n錢幣2\n錢幣3\n錢幣4\n錢幣5\n錢幣6\n錢幣7\n錢幣8\n錢幣9\n錢幣10\n錢幣侍者\n錢幣騎士\n錢幣皇后\n錢幣國王\n聖杯1\n聖杯2\n聖杯3\n聖杯4\n聖杯5\n聖杯6\n聖杯7\n聖杯8\n聖杯9\n聖杯10\n聖杯侍者\n聖杯騎士\n聖杯皇后\n聖杯國王">塔羅牌</div>
                <div class="example-option" data-value="A♠️\nK♠️\nQ♠️\nJ♠️\n10s\n9♠️\n8♠️\n7♠️\n6♠️\n5♠️\n4♠️\n3♠️\n2♠️\nA♥️\nK♥️\nQ♥️\nJ♥️\n10h\n9♥️\n8♥️\n7♥️\n6♥️\n5♥️\n4♥️\n3♥️\n2♥️\nA♦️\nK♦️\nQ♦️\nJ♦️\n10d\n9♦️\n8♦️\n7♦️\n6♦️\n5♦️\n4♦️\n3♦️\n2♦️\nA♣️\nK♣️\nQ♣️\nJ♣️\n10c\n9♣️\n8♣️\n7♣️\n6♣️\n5♣️\n4♣️\n3♣️\n2♣️\n鬼王\n小鬼">poker(54)</div>
                <div class="example-option" data-value="A♠️\nK♠️\nQ♠️\nJ♠️\n10s\n9♠️\n8♠️\n7♠️\n6♠️\nA♥️\nK♥️\nQ♥️\nJ♥️\n10h\n9♥️\n8♥️\n7♥️\n6♥️\nA♦️\nK♦️\nQ♦️\nJ♦️\n10d\n9♦️\n8♦️\n7♦️\nA♣️\nK♣️\nQ♣️\nJ♣️\n10c\n9♣️\n8♣️\n7♣️\n鬼王\n小鬼">poker(36)</div>
                <div class="example-option" data-value="A♥️\nK♥️\nQ♥️\nJ♥️\n10h\n9♥️\n8♥️\n7♥️\n6♥️\nA♦️\nK♦️\nQ♦️\nJ♦️\n10d\n9♦️\n8♦️\n7♦️\n鬼王">紅(18)</div>
                <div class="example-option" data-value="A♠️\nK♠️\nQ♠️\nJ♠️\n10s\n9♠️\n8♠️\n7♠️\n6♠️\nA♣️\nK♣️\nQ♣️\nJ♣️\n10c\n9♣️\n8♣️\n7♣️\n小鬼">黑(18)</div>
            </div>
        </div>

        <div id="shuffle-animation-container"></div>
        <div id="card-container" class="card-container"></div>
        <div id="description-box"></div>
        <audio id="clickSound" src="m/click.mp3"></audio>
        <audio id="scoreSound" src="m/Sou.mp3"></audio>

    </div>
    <script>
    const clickSound = document.getElementById('clickSound');
    const scoreSound = document.getElementById('scoreSound');

    function playScoreSound() {
      scoreSound.currentTime = 0; // 重置播放位置
      scoreSound.play().catch(error => console.warn('範例按鈕音效失敗:', error));
    }
    document.querySelectorAll('.example-option').forEach(button => {
        button.addEventListener('click', playScoreSound);
    });

    const images = [
    'img/t0.png', 'img/t1.png', 'img/t2.png', 'img/t3.png', 'img/t4.png',
    'img/t5.png', 'img/t6.png', 'img/t7.png', 'img/t8.png', 'img/t9.png',
    'img/t10.png', 'img/t11.png', 'img/t12.png', 'img/t13.png', 'img/t14.png',
    'img/t15.png', 'img/t16.png', 'img/t17.png', 'img/t18.png', 'img/t19.png',
    'img/t20.png', 'img/t21.png',

    'img/joker_small.png', 'img/joker_big.png',
    'img/3g.png', 'img/2g.png', 'img/1g.png', 'img/0g.png',
    'img/1s.png', 'img/2s.png', 'img/backcard.png',

    'img/W1.png', 'img/W2.png', 'img/W3.png', 'img/W4.png', 'img/W5.png',
    'img/W6.png', 'img/W7.png', 'img/W8.png', 'img/W9.png', 'img/W10.png',
    'img/W11.png', 'img/W12.png', 'img/W13.png', 'img/W14.png',

    'img/F1.png', 'img/F2.png', 'img/F3.png', 'img/F4.png', 'img/F5.png',
    'img/F6.png', 'img/F7.png', 'img/F8.png', 'img/F9.png', 'img/F10.png',
    'img/F11.png', 'img/F12.png', 'img/F13.png', 'img/F14.png',

    'img/S1.png', 'img/S2.png', 'img/S3.png', 'img/S4.png', 'img/S5.png',
    'img/S6.png', 'img/S7.png', 'img/S8.png', 'img/S9.png', 'img/S10.png',
    'img/S11.png', 'img/S12.png', 'img/S13.png', 'img/S14.png',

    'img/C1.png', 'img/C2.png', 'img/C3.png', 'img/C4.png', 'img/C5.png',
    'img/C6.png', 'img/C7.png', 'img/C8.png', 'img/C9.png', 'img/C10.png',
    'img/C11.png', 'img/C12.png', 'img/C13.png', 'img/C14.png'
    ];
let loadedCount = 0;
let totalResources = images.length + 1; 

// 檢查資源載入
function checkResourcesLoaded() {
    loadedCount++;
    console.log(`已載入資源數量: ${loadedCount}/${totalResources}`);
    if (loadedCount >= totalResources) {
        document.getElementById('loading-screen').style.display = 'none';
        document.getElementById('main-content').style.display = 'block';
    }
}

// 預載圖片
function preloadImages() {
    totalResources += images.length;
    images.forEach(src => {
        const img = new Image();
        img.src = src;
        img.onload = checkResourcesLoaded;
        img.onerror = () => {
            console.error(`圖片載入失敗: ${src}`);
            checkResourcesLoaded();
        };
    });
}

// 預載影片
function preloadVideo() {
    const video = document.getElementById('video-background');
    if (!video) {
        console.error('video-background 元素未找到！');
        checkResourcesLoaded();
        return;
    }
    totalResources++; // 增加影片資源
    video.addEventListener('loadeddata', checkResourcesLoaded);
    video.addEventListener('error', () => {
        console.error('影片載入失敗！');
        checkResourcesLoaded();
    });
}

// 確保 DOM 和資源載入完成
window.addEventListener('load', () => {
    preloadImages();
    preloadVideo();
});

// 設置5 秒超時保護
setTimeout(() => {
    console.warn('資源載入超時，自動切換到主畫面！');
    document.getElementById('loading-screen').style.display = 'none';
    document.getElementById('main-content').style.display = 'block';
}, 3000);

        const inputArea = document.getElementById('input-area');
        const shuffleAnimationContainer = document.getElementById('shuffle-animation-container');
        const cardContainer = document.getElementById('card-container');
        const flipSound = new Audio('m/card.mp3');
        const shuffleSound = new Audio('m/shuffle.mp3');
        const shuffleBtn = document.getElementById('shuffle-btn');
        const callBtn = document.getElementById('call-btn');
        const clearBtn = document.getElementById('clear-btn');
        const exampleBtn = document.getElementById('example-btn');
        const exampleOptions = document.getElementById('example-options');
        const exampleContainer = document.querySelector('.example-container'); 
        const descriptionBox = document.getElementById('description-box');

        //範例功能列
        exampleBtn.addEventListener('click', () => {
            clickSound.currentTime = 0; // 重置播放位置
            clickSound.play().catch(error => console.warn('按鈕音效失敗:', error));
            if (exampleOptions.style.display === 'none' || exampleOptions.style.display === '') {
                exampleOptions.style.display = 'flex';
            } else {
                exampleOptions.style.display = 'none';
            }
        });
        document.querySelectorAll('.example-option').forEach(option => {
            option.addEventListener('click', () => {
                inputArea.value = option.dataset.value.replace(/\\n/g, '\n');
            });
        });
        // 洗牌動畫效果
        function shuffleAnimation(items) {
            const shuffleContainer = document.createElement('div');
            shuffleContainer.id = 'shuffle-animation-container';
            shuffleContainer.style.position = 'absolute';
            shuffleContainer.style.top = '50%'; 
            shuffleContainer.style.left = '0';
            shuffleContainer.style.width = '100%';
            shuffleContainer.style.height = '150px';
            shuffleContainer.style.transform = 'translateY(-50%)';
            shuffleContainer.style.display = 'flex';
            shuffleContainer.style.justifyContent = 'center';
            shuffleContainer.style.alignItems = 'center';
            shuffleContainer.style.zIndex = '10';
            shuffleContainer.style.overflow = 'hidden';
            shuffleContainer.style.pointerEvents = 'none';
            // 插入到 cardContainer 內部
            const cardContainer = document.getElementById('card-container');
            cardContainer.appendChild(shuffleContainer);
            // 建立卡片動畫
            const shuffleCards = items.map((_, index) => {
                const card = document.createElement('div');
                card.className = 'shuffle-card';
                card.style.width = '93.75px';
                card.style.height = '156.25px';
                card.style.margin = '5px';
                card.style.position = 'absolute';
                card.style.backgroundImage = "url('img/backcard.png')";
                card.style.backgroundSize = 'cover';
                card.style.borderRadius = '4px';
                // 初始位置設置在 X 軸
                card.style.left = '50%';
                card.style.transform = 'translateX(-50%)';
                shuffleContainer.appendChild(card);
                return card;
            });
            // 播放動畫
            shuffleCards.forEach(card => {
                const duration = 1000;
                const direction = Math.random() < 0.5 ? -1 : 1; 
                const translateX = (Math.random() * 150 + 50) * direction; // 移動範圍 ±50px 到 ±200px
                card.animate([
                    { transform: 'translateX(-50%)' },
                    { transform: `translateX(calc(-50% + ${translateX}px))` },
                    { transform: 'translateX(-50%)' }
                ], {
                    duration: duration * 0.55,
                    iterations: 2 // 三次往返
                });
            });
             // 清理動畫
            Promise.all(
                shuffleCards.map(card => card.getAnimations()[0].finished)
            ).then(() => {
                shuffleContainer.remove(); // 移除動畫容器，確保可重複執行
            });
        }
        // 洗牌抽籤系統
        shuffleBtn.addEventListener('click', () => {
            clickSound.currentTime = 0; // 重置播放位置
            clickSound.play().catch(error => console.warn('按鈕音效失敗:', error));
            const items = inputArea.value.trim().split('\n').filter(Boolean);
            if (items.length < 2) {
                alert('請至少輸入兩個項目進行抽籤！');
                return;
            }
                inputArea.style.display = 'none';
                exampleContainer.style.display = 'none'; 
                cardContainer.style.display = 'flex';
                cardContainer.innerHTML = '';

                if (items.includes('命運之輪')) {
                showTarotReading(items);
                return;
                }

            requestAnimationFrame(() => {
                shuffleAnimation(items);
                shuffleSound.currentTime = 0; 
                shuffleSound.play(); 
            });
            setTimeout(() => {
                items.sort(() => Math.random() - 0.5);
                items.forEach(item => {
                    const card = document.createElement('div');
                    card.className = 'card';
                    const content = generateCardContent(item);
                     card.innerHTML = `<div class="inner">
                                        <div class="back"></div>
                                        <div class="front">${content}</div>
                                       </div>`;
                    card.classList.add('hidden');
                    card.addEventListener('click', () => {
                        card.classList.toggle('hidden');
                        flipSound.currentTime = 0; 
                        flipSound.play(); 
                    });
                    cardContainer.appendChild(card);
                });
            }, 1010); // 等動畫結束再生成卡片
        });
        //塔羅牌模式
        function showTarotReading(items) {
            // 顯示解說框
            descriptionBox.style.display = 'block';
            descriptionBox.innerHTML = '<b>請翻開您的命運之牌...</b><br>本系統採時間之流的三張抽牌方式，<br>可依序得出「過去、現在、未來」或「原因、結果、建議」<br>得出問題能夠處理的對策方向，<br>問問題的方式請以自己「想怎麼做？」的想法，<br>搭配「該如何做才能加以實現」這樣的形式對策，<br>才能得到較明確而詳細的回饋。<br>卡片若是正顯示為"正位"詮釋，是上下顛倒著則"逆位"詮釋';
            cardContainer.classList.add('tarot-mode'); //塔羅模式開啟
            requestAnimationFrame(() => {
                shuffleAnimation(items);
                shuffleSound.currentTime = 0; 
                shuffleSound.play(); 
            });
            setTimeout(() => {
                // 隨機抽取三張牌
    const selectedCards = [];
    while (selectedCards.length < 3) {
        const randomIndex = Math.floor(Math.random() * items.length);
        if (!selectedCards.includes(items[randomIndex])) {
            selectedCards.push(items[randomIndex]);
        }
    }

    const cardContainer = document.getElementById('card-container');
    cardContainer.innerHTML = '';

    selectedCards.forEach(item => {
        const card = document.createElement('div');
        card.className = 'card';
        const content = generateCardContent(item);

        // 建立內部結構
        card.innerHTML = `<div class="inner">
                            <div class="back"></div>
                            <div class="front">${content}</div>
                          </div>`;

        // 初始設置為背面
        card.classList.add('hidden'); // 初始背面顯示

        // 設置逆位狀態 (第一次決定後固定)
        const isReversed = Math.random() < 0.5; // 50%機率逆位
        if (isReversed) {
            card.classList.add('reversed'); // 加入逆位標籤
        }

        let isFlipped = false; // 控制翻牌狀態

        card.addEventListener('click', () => {
            if (isFlipped) {
                // 翻回背面
                card.classList.remove('flipped'); // 移除翻轉
                isFlipped = false;
            } else {
                // 翻到正面，保持逆位或正位狀態
                card.classList.add('flipped'); // 翻面顯示正面
                isFlipped = true;
            }

            // 播放翻牌音效
            flipSound.currentTime = 0;
            flipSound.play();

            // 更新描述框
            descriptionBox.innerHTML = getCardDescription(item);
        });
                    cardContainer.appendChild(card);
                });
            }, 1010);
        }
    // **牌義解釋邏輯**
    function getCardDescription(item) {
            const descriptions = {
            '愚者': '愚者 ——<br>新的開始與自由，冒險與無限潛力。<br>正位：象徵純真、開放的心態與勇敢冒險的精神。<br>提醒要信任自己的直覺並擁抱未知旅程，接受生活中的變化與挑戰。<br>代表創新的機會與重新開始的時機，適合迎接未知領域的探索。<br>逆位： 暗示衝動行動、缺乏計劃或天真過度，可能因忽略細節或準備不足而導致失敗。<br>亦可能象徵過度猶豫、不敢踏出第一步，或對未知的恐懼造成停滯。<br>有時代表冒險過度或逃避責任，提醒留意自我欺騙或現實脫節的情況。<br>建議與對策： 平衡冒險與謹慎，確保決策前有足夠的準備。<br>重新審視目標，避免因盲目樂觀而忽略潛在風險，或因恐懼而錯失機會。<br>學習適當信任他人，同時保持對環境的觀察與警覺，讓冒險建立在現實基礎上。',
            '魔術師': '魔術師 ——<br>創造力與行動的力量，掌握資源與機會。<br>正位：代表能力、溝通與將想法實現為現實的潛力。<br>象徵個人資源與技能的運用，提醒相信自身的才能並積極行動。<br>預示新的開始或機會，適合創造性計劃與項目啟動。<br>逆位： 暗示錯失機會、缺乏自信或欺騙行為，可能過度操控情境或忽視道德界限。<br>也可能顯示技能或計劃準備不足，導致目標無法落實或進展緩慢。<br>在某些情況下，象徵操控或欺騙他人以達成目的的危險行為，需特別警惕操控慾望。<br>建議與對策： 強化計劃與意圖，避免操之過急或依賴虛假手段達成目標。<br>確保動機與手段的正當性，利用已有資源增強自信與技能，避免內耗與浪費機會。',
            '女祭司': '女祭司 ——<br>智慧與直覺，內在探索與秘密揭露。<br>正位：象徵靈性覺醒、內在智慧與隱藏的知識。<br>提醒傾聽直覺、深入了解真相並信任內心的聲音。<br>適合學習與冥想，探索未知領域並接觸潛意識的訊息。<br>逆位： 暗示壓抑直覺、情感封閉或自我懷疑。<br>可能代表對秘密的誤解或資訊缺失，導致決策失誤或方向模糊。<br>也可能顯示過於依賴表象或外在權威，忽略內心聲音與真實感受。<br>建議與對策： 放慢步調，重視內在聲音並深入挖掘真相。<br>學習分辨資訊的真偽，避免盲目跟隨他人意見。<br>透過冥想或靜心活動增強自我覺察與靈性連結，找回內在平衡與洞見。',
            '皇后': '皇后 ——<br>豐盛與滋養，創造力與成長的象徵。<br>正位：代表愛、繁榮與母性力量，象徵豐饒與和諧。<br>鼓勵關注感情與家庭關係，培養創造力與滋養內心需求。<br>適合孕育新計劃或深化與他人的連結，強調感性與關懷的力量。<br>逆位： 暗示過度依賴、缺乏自信或情感阻礙。<br>可能顯示愛過度氾濫、保護過頭，導致失衡或壓力增加。<br>也可能表示創造力受阻或無法孕育新的想法與計劃。<br>在某些情況下，可能象徵懶散、逃避責任或物質過度依賴，提醒調整情感與需求的平衡。<br>建議與對策： 均衡自我需求與關懷他人，學會適時放手與信任他人能力。<br>釋放內在創造力，透過自我愛與成長克服內心不安。<br>避免過度依賴物質享受，專注於內在豐盛與精神滿足。',
           '皇帝': '皇帝 ——<br>權威與穩定，掌控與結構的象徵。<br>正位：象徵領導力、秩序與計劃執行的力量。<br>提醒建立穩固的基礎與長期策略，強調責任感與紀律。<br>適合設定清晰目標並以自信與決心克服挑戰。<br>逆位： 暗示控制過度、專制或缺乏靈活性。<br>可能顯示過分追求權威導致壓迫感或反抗，也可能象徵缺乏秩序與方向。<br>有時代表無法掌控情況或逃避責任的狀態，提醒調整態度與策略。<br>建議與對策： 平衡權威與包容，建立穩健結構的同時保持彈性與適應力。<br>學習信任他人並授權合作，避免獨裁或控制慾過強造成的阻礙。',
           '教皇': '教皇 ——<br>傳統與智慧，信仰與精神指引的象徵。<br>正位：代表教育、道德與社會規範，象徵學習與遵循傳統的價值觀。<br>提醒尋求指導或遵循某種制度來達到精神與知識的成長。<br>適合建立穩定的信念系統或尋找啟發性的導師。<br>逆位： 暗示教條主義、叛逆或質疑權威。<br>可能象徵拒絕傳統規範或對社會期待感到不滿，導致內心衝突與迷失方向。<br>有時代表過度固執於規矩，忽略創新或與他人脫節。<br>建議與對策： 尋求精神與知識的平衡，避免盲目跟隨或完全排斥傳統。<br>學習適應變化，發展屬於自己的信仰與價值觀，並保持開放與包容的態度。',
            '戀人': '戀人 ——<br>愛情與選擇，和諧與連結的象徵。<br>正位：代表愛情、關係與合作，象徵情感連結與相互理解。<br>提醒重視信任與溝通，適合建立關係或做出重要選擇。<br>預示情感與道德層面的決策時刻，需權衡內心需求與外在現實。<br>逆位： 暗示分歧、誘惑或優柔寡斷，可能象徵關係破裂或溝通失敗。<br>也可能顯示錯誤選擇帶來的遺憾與情感困惑。<br>提醒注意情感依賴或缺乏承諾造成的不穩定狀態。<br>建議與對策： 誠實面對需求與感受，解決內心衝突並加強信任與溝通。<br>學習從錯誤中成長，勇敢面對抉擇並堅持對自己有利的決定。',
            '戰車': '戰車 ——<br>意志與勝利，掌控與前進的象徵。<br>正位：代表決心、專注與自信，象徵透過意志力克服障礙並邁向成功。<br>提醒保持紀律與控制力，以實現目標與突破挑戰。<br>適合推進計劃或面對困難時展現勇氣與堅持。<br>逆位： 暗示失控、缺乏方向或內在衝突，可能象徵計劃停滯或對抗失敗。<br>也可能顯示意志動搖或過度操控導致反效果。<br>提醒避免衝動行事或盲目追求結果而忽視平衡。<br>建議與對策： 重新調整方向，強化自律與動力，並確保計劃執行穩健有序。<br>學習在行動與耐心之間取得平衡，避免過度壓迫自己或他人。',
            '力量': '力量 ——<br>勇氣與耐心，內在力量與同理心的象徵。<br>正位：代表自信、意志力與控制情緒的能力，象徵克服恐懼與挑戰的內在力量。<br>提醒透過耐心與理解而非強硬來解決問題。<br>適合培養自律與情感穩定，增強人際關係的信任與支持。<br>逆位： 暗示缺乏信心、情緒失控或過度衝動。<br>可能象徵壓力過大導致行動力下降或內心脆弱。<br>提醒避免逃避困難，並學習釋放壓力與管理情緒。<br>建議與對策： 專注於內在修煉，學習控制恐懼與焦慮，並以溫和的方式處理衝突與挑戰。',
            '隱者': '隱者 ——<br>內省與指引，靈性探索與智慧的象徵。<br>正位：代表自我反思、尋找真理與內在指引。<br>提醒透過靜心與學習獲取洞見與智慧。<br>適合進行個人探索與深度思考，以解決內心疑惑或尋找人生方向。<br>逆位： 暗示孤立、迷失方向或拒絕成長。<br>可能象徵對孤獨的恐懼或逃避問題，導致錯失機會與指引。<br>提醒注意與他人的連結，避免過度封閉自己。<br>建議與對策： 坦然接受孤獨的價值，同時保持與他人的溝通與交流，讓內心與外在世界取得平衡。',
            '命運之輪': '命運之輪 ——<br>循環與改變，命運的轉變與機遇。<br>正位：代表機會與變化，象徵好運降臨、新的循環或命運的轉折點。<br>提醒把握機會並接受改變帶來的挑戰。<br>適合迎接未知挑戰並適應變化，提升靈活性與適應力。<br>逆位： 暗示延遲、計劃受阻或控制權失控。<br>可能象徵命運的反轉或壞運氣，提醒反思是否抗拒必要的改變或過度依賴外部因素。<br>建議與對策： 在困難中尋找教訓與成長機會，探索過去的選擇是否影響當下結果，並調整方向以迎接轉變。',
            '正義': '正義 ——<br>公平與真理，平衡與責任的象徵。<br>正位：代表誠實、公正與平衡，象徵決策需要理性與道德考量。<br>提醒評估情況並保持誠信與責任感，確保行為符合正義與真理。<br>適合處理法律事務或重要抉擇，以理性分析為基礎做出決定。<br>逆位： 暗示不公正、偏見或逃避責任。<br>可能象徵自欺或對結果缺乏接受能力，導致內心不安或混亂。<br>提醒避免否認錯誤或推卸責任，誠實面對現實並尋求平衡解決方案。<br>建議與對策： 深入檢視情況，客觀分析並糾正錯誤行為。<br>建立公平與透明的原則，並承擔必要的責任以維持內外平衡。',
            '倒吊人': '倒吊人 ——<br>犧牲與等待，轉變與視角轉換的象徵。<br>正位：代表停滯、靜止與重新評估，提醒透過放下執念來獲得新視角與靈性成長。<br>象徵犧牲短期利益換取更高的目標，適合放慢腳步進行內在反思。<br>逆位： 暗示拒絕改變、拖延或犧牲不值得的事物。<br>可能象徵自我犧牲過度或錯誤投資時間與精力。<br>提醒注意卡在僵局或逃避問題的情況。<br>建議與對策： 放下對控制的渴望，勇於接受變化與新的觀點，從被動中尋找轉機與解脫。',
            '死神': '死神 ——<br>結束與重生，轉變與蛻變的象徵。<br>正位：代表結束一個階段與全新開始的契機，象徵重生與內在轉化。<br>提醒勇敢面對改變並釋放舊有束縛，適合重新定義目標與方向。<br>逆位： 暗示抗拒改變、停滯或無法放下過去。<br>可能象徵拖延結束或害怕面對失去，導致停滯不前。<br>提醒擁抱必要的結束，以開啟新的成長旅程。<br>建議與對策： 放下恐懼，接受不可避免的改變，並尋找重建與復甦的機會。',
            '節制': '節制 ——<br>平衡與協調，耐心與調和的象徵。<br>正位：代表和諧與節制，象徵在情感與行動中找到適當的平衡與穩定。<br>提醒耐心調整步伐，避免極端行為或過度消耗。<br>適合建立長期計劃與維持內心平靜。<br>逆位： 暗示失衡、衝動或過度行為。<br>可能象徵耐心不足、缺乏協調或行動過急導致混亂。<br>提醒留意生活或情感的過度投入，尋找恢復平衡的方法。<br>建議與對策： 調整步調與策略，保持耐心與開放心態，並確保各方面需求得到適當滿足。',
            '惡魔': '惡魔 ——<br>束縛與誘惑，執著與物質欲望的象徵。<br>正位：代表誘惑、成癮與負面影響，象徵過度依賴或無法擺脫某種情境的束縛。<br>提醒警惕物質享受與負面習慣的控制，避免自我欺騙或沉迷。<br>逆位： 暗示掙脫束縛、克服恐懼或擺脫控制。<br>可能象徵突破限制與習慣，尋求自由與解脫。<br>提醒擺脫負面關係或物質依賴，重獲內心主導權。<br>建議與對策： 勇敢面對恐懼與內在陰影，學習辨識與改變不健康模式，透過自律恢復自由與掌控感。',
            '天雷': '天雷  ——<br>突變與動盪，突然改變與覺醒的象徵。<br>正位：代表突如其來的事件或衝擊，象徵破壞舊有模式並強迫成長與重建。<br>提醒接受變革，將危機轉化為成長的契機。<br>適合打破限制與重新評估生活方向。<br>逆位： 暗示內心恐懼、抗拒變化或難以釋放壓力。<br>可能象徵延遲的危機或對突發事件的逃避。<br>提醒不要過度依賴現有安全感，應主動準備應對挑戰。<br>建議與對策： 勇敢面對不可預測的變化，接受過程帶來的成長，並從混亂中尋找新的機會。',
            '星星': '星星 ——<br>希望與啟發，治癒與願景的象徵。<br>正位：代表靈感、希望與新方向，象徵療癒與充滿信心的未來。<br>提醒信任宇宙的安排並追隨內心的指引，適合重拾夢想與展望未來。<br>逆位： 暗示失望、信心動搖或缺乏方向感。<br>可能象徵對未來的懷疑或因過去的傷害導致無法前進。<br>提醒重新建立信任與樂觀，避免消極思維阻礙成長。<br>建議與對策： 尋找內心的力量與希望，保持正向思考並逐步實現目標。',
            '月亮': '月亮 ——<br>幻覺與迷惑，直覺與潛意識的象徵。<br>正位：代表情感波動、不確定性與隱藏的恐懼，提醒探索內在情緒並信任直覺指引。<br>象徵夢境與潛意識的訊息，適合深入分析情感與直覺感受。<br>逆位： 暗示迷失、幻覺破滅或焦慮消除。<br>可能象徵真相逐漸浮現或困惑與恐懼的解除。<br>提醒保持理性分析並克服不必要的恐懼或誤解。<br>建議與對策： 專注於清晰思考，勇敢面對情感陰影並尋求真相，避免被虛假表象所迷惑。',
            '太陽': '太陽 ——<br>快樂與成功，光明與積極的象徵。<br>正位：代表幸福、成就與活力，象徵內在的快樂與目標實現的機會。<br>提醒保持樂觀並充滿信心地迎接生活挑戰，適合慶祝成就與享受幸福時刻。<br>逆位： 暗示延遲、樂觀不足或過度自信帶來的挫折。<br>可能象徵目標尚未完全實現，提醒保持耐心與努力不懈。<br>提醒不要讓短期挫折阻礙長期目標的達成。<br>建議與對策： 保持積極態度，專注於進步與成果，並相信黑暗終將散去，迎來光明與成功。',
            '審判': '審判 ——<br>重生與覺醒，反思與救贖的象徵。<br>正位：代表清晰洞見與自我覺醒，象徵釋放過去並迎接新的開始。<br>提醒反思過往經歷並從中學習，適合解決舊問題並開啟新篇章。<br>逆位： 暗示逃避現實、內疚或拒絕改變。<br>可能象徵對過去行為的後悔或無法釋懷，導致停滯與焦慮。<br>提醒面對現實並做出必要的改變，避免自我批判與拖延。<br>建議與對策： 認清自己的責任與選擇，勇敢承擔後果並以積極態度迎接轉變與新生機會。',
            '世界': '世界 ——<br>完成與成就，圓滿與統合的象徵。<br>正位：代表目標達成、圓滿與成功，象徵實現願望與成就夢想的時刻。<br>提醒慶祝成果並迎接新的旅程，適合將經驗與智慧運用到未來發展中。<br>逆位： 暗示未完成的目標、延遲或缺乏方向感。<br>可能象徵努力仍需持續或對成果不滿意，導致情感上的空虛與焦慮。<br>提醒檢視過去的努力並調整計劃，以克服阻礙並推動最終完成。<br>建議與對策： 評估進度與目標，保持耐心並專注於持續成長與改進，迎接最終的成功與自我統合。',
            '權杖1': '權杖一 ——<br>新開始與創造力，熱情與動力的象徵。<br>正位：代表靈感、潛力與行動力，象徵新機會與突破性進展。<br>提醒抓住創造性的想法與機會，適合啟動新計劃或冒險挑戰。<br>逆位： 暗示延遲、動力不足或缺乏方向感。<br>可能象徵機會錯失或計劃停滯，提醒重新評估目標與行動策略。<br>建議與對策： 激發熱情與信心，設定明確目標並採取積極行動以實現突破。',
            '權杖2': '權杖二 ——<br>計劃與遠見，探索與決策的象徵。<br>正位：代表計劃與準備，象徵對未來的展望與策略制定。<br>提醒以長遠視角審視機會與風險，適合做出重大決策與布局行動。<br>逆位： 暗示猶豫不決、準備不足或機會錯失。<br>可能象徵對未來缺乏信心或過於保守，阻礙發展與進步。<br>建議與對策： 克服猶豫與恐懼，大膽踏出舒適圈，勇敢追求目標並堅持行動。',
            '權杖3': '權杖三 ——<br>擴展與遠景，成長與貿易的象徵。<br>正位：代表機會擴展與成就開端，象徵合作與進展順利。<br>提醒保持耐心與遠見，適合發展長期計劃與探索新市場。<br>逆位： 暗示計劃延遲、合作失敗或期望落空。<br>可能象徵缺乏耐心或準備不足，導致無法抓住機會。<br>建議與對策： 調整策略並重整資源，持續保持信心與靈活應變以推動進展。',
            '權杖4': '權杖四 ——<br>慶祝與穩定，家庭與團結的象徵。<br>正位：代表成功與穩固基礎，象徵成就的慶祝與關係的和諧。<br>提醒珍惜當下成果並享受歡樂氛圍，適合婚禮、家庭聚會或團隊慶祝活動。<br>逆位： 暗示緊張、不穩定或缺乏安全感。<br>可能象徵家庭或團隊內部的衝突，或未達成期望的穩定與安全。<br>建議與對策： 加強溝通與合作，解決矛盾並重新建立和諧與穩固的基礎。',
            '權杖5': '權杖五 ——<br>競爭與衝突，挑戰與動力的象徵。<br>正位：代表競爭與衝突，象徵意見分歧或挑戰的出現。<br>提醒保持靈活與合作精神，將競爭視為成長的機會。<br>逆位： 暗示內耗、混亂或難以解決的衝突。<br>可能象徵爭執不休或缺乏合作導致停滯不前。<br>建議與對策： 調解矛盾，促進溝通並尋求雙贏解決方案，避免無意義的競爭與衝突。',
            '權杖6': '權杖六 ——<br>勝利與認可，自信與成就的象徵。<br>正位：代表成功與榮耀，象徵努力獲得回報與他人肯定。<br>提醒保持謙遜並感恩支持，適合慶祝成就與展現領導力。<br>逆位： 暗示失敗、遲遲未得到認可或自信動搖。<br>可能象徵未完成目標或對成功過於焦慮而失去動力。<br>建議與對策： 調整態度與策略，持續努力克服阻礙，並專注於內在成就而非外在認同。',
            '權杖7': '權杖七 ——<br>防禦與堅持，保衛與挑戰的象徵。<br>正位：代表堅持立場與克服阻力，象徵抵禦挑戰與維護成果的決心。<br>提醒保持信心並勇敢面對反對意見或壓力。<br>逆位： 暗示防禦過度、疲憊或自信不足。<br>可能象徵壓力過大導致防線崩潰或對抗失敗。<br>建議與對策： 強化內在力量，調整策略並堅持信念，同時注意避免過度防禦與孤立自己。',
            '權杖8': '權杖八 ——<br>速度與進展，動能與突破的象徵。<br>正位：代表快速發展與行動力，象徵溝通順暢與目標快速實現的機會。<br>提醒把握時機並保持彈性以應對突發狀況。<br>逆位： 暗示延遲、停滯或誤解帶來的阻礙。<br>可能象徵溝通不良或行動計劃失敗，導致無法推動進展。<br>建議與對策： 檢查細節與重新評估計劃，確保資訊準確與溝通順暢，以克服障礙。',
            '權杖9': '權杖九 ——<br>韌性與防衛，保護與準備的象徵。<br>正位：代表堅持與防禦，象徵過去努力的積累與最後階段的挑戰。<br>提醒保持警覺與耐心，適合堅守立場並準備迎接最後的測試。<br>逆位： 暗示疲憊、疑慮或防禦心理過重。<br>可能象徵害怕失敗或對過去傷害的防禦心態影響未來發展。<br>建議與對策： 保持耐心與信心，注意調整防禦策略並放下不必要的恐懼與疑慮。',
            '權杖10': '權杖十 ——<br>負擔與責任，壓力與努力的象徵。<br>正位：代表承擔重任與壓力，象徵努力接近成功但需要付出額外精力。<br>提醒合理分配工作與責任，避免過度負荷導致身心疲憊。<br>逆位： 暗示壓力過大、責任難以承擔或無法卸下重擔。<br>可能象徵被困於繁重責任中而失去平衡與動力。<br>建議與對策： 學會尋求幫助與分擔責任，重新評估優先事項並減輕負擔。',
            '權杖侍者': '權杖侍者 ——<br>探索與冒險，靈感與好奇心的象徵。<br>正位：代表新的機會與創意，象徵熱情與勇於嘗試新事物的精神。<br>提醒保持積極心態與開放心靈，適合接受挑戰與學習新技能。<br>逆位： 暗示計劃不成熟、焦點不明或缺乏行動力。<br>可能象徵過度衝動或準備不足導致機會錯失。<br>建議與對策： 重視準備與計劃，避免倉促行動，並將熱情轉化為穩健的行動計劃。',
            '權杖騎士': '權杖騎士 ——<br>行動與冒險，自信與激情的象徵。<br>正位：代表快速行動與追求目標，象徵自信與進取心。<br>提醒大膽追求夢想與機會，適合採取主動行動推動進展。<br>逆位： 暗示衝動、缺乏計劃或耐心不足。<br>可能象徵過於急躁或冒險失敗導致挫折與混亂。<br>建議與對策： 控制衝動，保持冷靜並確保計劃周詳，避免草率行動造成損失。',
            '權杖皇后': '權杖皇后 ——<br>自信與熱情，魅力與創造力的象徵。<br>正位：代表活力與影響力，象徵掌控生活與激勵他人的能力。<br>提醒相信自己的直覺與領導能力，適合激發創造力並推動計劃發展。<br>逆位： 暗示不安全感、控制慾或嫉妒心。<br>可能象徵情感不穩或過度控制導致人際關係緊張。<br>建議與對策： 加強自信與自我價值，避免過度操控或嫉妒，並展現包容與理解的態度。',
            '權杖國王': '權杖國王 ——<br>領導與願景，自信與成就的象徵。<br>正位：代表權威與影響力，象徵穩健的領導力與長遠的願景。<br>提醒利用智慧與經驗指導他人，並堅持行動推動目標實現。<br>逆位： 暗示專制、過度控制或缺乏遠見。<br>可能象徵自大或自信過頭，導致忽視他人需求與意見。<br>建議與對策： 保持謙虛與靈活性，善用權威與資源，同時促進團隊合作與共識。',
            '寶劍1': '寶劍一 ——<br>智慧與真相，溝通與突破的象徵。<br>正位：代表清晰的思維與洞察力，象徵新想法或解決問題的突破。<br>提醒保持理性與邏輯分析，適合開始新的計劃或面對挑戰。<br>逆位： 暗示混亂、誤解或缺乏方向感。<br>可能象徵錯誤的判斷或溝通不良導致的挫折。<br>建議與對策： 調整思維模式並重新整理資訊，確保理解清晰並避免誤導。',
            '寶劍2': '寶劍二 ——<br>選擇與困惑，平衡與抉擇的象徵。<br>正位：代表猶豫與內心衝突，象徵需要冷靜分析並做出決定。<br>提醒避免逃避問題，適合審慎考慮選擇與後果。<br>逆位： 暗示優柔寡斷或因恐懼而推遲決策。<br>可能象徵缺乏信息或對現實的否認，導致錯誤判斷。<br>建議與對策： 勇敢面對抉擇並尋求外部意見，以突破僵局並恢復平衡。',
            '寶劍3': '寶劍三 ——<br>心碎與悲傷，失望與分離的象徵。<br>正位：代表情感創傷與痛苦，象徵心靈的失落或關係的破裂。<br>提醒承認情感的傷痛並給予自己時間療癒。<br>逆位： 暗示情感傷痛的緩解或逃避面對悲傷。<br>可能象徵抗拒療癒過程或無法放下過去的痛苦。<br>建議與對策： 接納情感傷痛並尋求支持，勇敢面對過去並準備邁向復原之路。',
            '寶劍4': '寶劍四 ——<br>休息與療癒，沉思與恢復的象徵。<br>正位：代表需要休息與反思，象徵從壓力中暫時抽離以恢復能量。<br>提醒注重心理與身體的休養，適合進行計劃與準備未來行動。<br>逆位： 暗示焦慮、過度勞累或無法得到休息。<br>可能象徵過度壓抑情感或忽略自身需求，導致精力耗盡。<br>建議與對策： 強制休息與自我療癒，設置界限並優先考慮健康與內心平靜。',
            '寶劍5': '寶劍五 ——<br>衝突與失敗，犧牲與教訓的象徵。<br>正位：代表爭吵、背叛或競爭的勝利，但可能伴隨著損失或內疚。<br>提醒反思勝利的代價與行動的動機，避免過度爭執傷害關係。<br>逆位： 暗示和解、內疚或試圖修復關係。<br>可能象徵對過去行為的悔悟與嘗試彌補損失。<br>建議與對策： 尋求和解並誠實面對問題，以防止未來重蹈覆轍。',
            '寶劍6': '寶劍六 ——<br>過渡與療癒，離開與前進的象徵。<br>正位：代表離開困難情境並尋求更穩定的環境，象徵內心或外在的旅程。<br>提醒適應變化並相信前方有更好的發展機會。<br>逆位： 暗示逃避問題或無法放下過去的負擔。<br>可能象徵難以擺脫困境或對未來缺乏信心。<br>建議與對策： 勇敢面對挑戰，讓自己走出舒適圈，專注於重建與療癒過程。',
            '寶劍7': '寶劍七 ——<br>謀略與欺瞞，策略與警覺的象徵。<br>正位：代表機智與策略運用，象徵小心謀劃或躲避衝突的手段。<br>提醒警惕欺騙行為或過於算計導致失敗。<br>逆位： 暗示暴露謊言、誠實或失策的結果。<br>可能象徵行動不當被揭露或錯誤決策導致損失。<br>建議與對策： 重視誠信與透明度，避免欺騙或操控行為，專注於穩健的行動計劃。',
            '寶劍8': '寶劍八 ——<br>限制與束縛，恐懼與焦慮的象徵。<br>正位：代表被困於困境或心理限制中，象徵缺乏信心與方向感。<br>提醒不要被恐懼束縛，適合尋找突破現狀的方法。<br>逆位： 暗示掙脫束縛與重獲自由，象徵克服恐懼與尋求新方向的突破。<br>可能象徵心態調整或重新掌控生活。<br>建議與對策： 勇敢挑戰限制與恐懼，保持靈活性並尋求外部支持。',
            '寶劍9': '寶劍九 ——<br>焦慮與恐懼，內心折磨與不安的象徵。<br>正位：代表過度擔憂或心理壓力，象徵失眠、焦慮與負面思想的折磨。<br>提醒正視內心恐懼並尋求解決方法，不讓情緒失控。<br>逆位： 暗示焦慮緩解或逐漸恢復信心，但可能仍存在殘餘不安。<br>提醒關注心理健康並避免過度自我批判。<br>建議與對策： 練習放鬆與自我調整，尋求支持與專業協助，慢慢釋放內在壓力。',
            '寶劍10': '寶劍十 ——<br>結束與崩潰，背叛與重生的象徵。<br>正位：代表重大挫折與結束，象徵痛苦的終點與新生的開始。<br>提醒接受過去的失敗並從中學習，準備迎接新的希望與重生。<br>逆位： 暗示傷痛的減輕或逐漸恢復，象徵從低谷中重新振作的機會。<br>提醒專注於自我療癒與重新站起來的勇氣。<br>建議與對策： 接受變化與結束的必然性，從經驗中學習並向前邁進，尋找新的希望與方向。',
            '寶劍侍者': '寶劍侍者 ——<br>觀察與好奇心，洞察與警覺的象徵。<br>正位：代表學習與分析，象徵資訊收集與保持警惕的必要性。<br>提醒細心觀察並準備行動，適合策略規劃與研究探索。<br>逆位： 暗示缺乏信任、誤解或溝通失誤。<br>可能象徵流言蜚語或過度警覺導致焦慮與猜疑。<br>建議與對策： 加強溝通與分析能力，避免過度猜疑或散播未經證實的消息。',
            '寶劍騎士': '寶劍騎士 ——<br>行動與決心，速度與挑戰的象徵。<br>正位：代表快速行動與果斷決策，象徵勇敢迎接挑戰與追求目標的精神。<br>提醒保持專注並快速應對突發狀況。<br>逆位： 暗示衝動行事、缺乏計劃或行動過於莽撞。<br>可能象徵過於急切導致失敗或衝突。<br>建議與對策： 放慢步調並進行周密規劃，以確保行動穩健且具備成功的基礎。',
            '寶劍皇后': '寶劍皇后 ——<br>智慧與獨立，洞察與真理的象徵。<br>正位：代表清晰的思維與成熟的判斷力，象徵理智與直言不諱的溝通能力。<br>提醒秉持誠實與公正態度，適合做出理性決策與提供建議。<br>逆位： 暗示冷漠、苛刻或過度批判。<br>可能象徵情感壓抑或對他人的傷害性言語。<br>建議與對策： 在溝通中保持柔和與包容，避免過度理性而忽略他人的感受。',
            '寶劍國王': '寶劍國王 ——<br>權威與決策，邏輯與秩序的象徵。<br>正位：代表強大的領導力與冷靜分析能力，象徵理性與公平的決策者。<br>提醒利用智慧與邏輯推動目標實現，適合制定長遠計劃與執行策略。<br>逆位： 暗示專制、冷酷或濫用權力。<br>可能象徵缺乏彈性或過於苛刻的領導方式。<br>建議與對策： 保持公平與開放心態，運用智慧與經驗影響他人，同時避免過度控制或忽視他人感受。',
            '錢幣1': '錢幣一 ——<br>機會與穩定，財富與潛力的象徵。<br>正位：代表新的財務機會與穩定基礎的建立，象徵物質與安全感的起點。<br>提醒把握商業與投資機會，適合啟動新事業或儲蓄計劃。<br>逆位： 暗示財務損失、機會錯失或投資失敗。<br>可能象徵缺乏計劃或資源管理不當，導致經濟困難。<br>建議與對策： 檢查資金狀況並重新規劃財務目標，穩健管理資源並避免冒險投資。',
            '錢幣2': '錢幣二 ——<br>平衡與管理，適應與靈活性的象徵。<br>正位：代表資源管理與適應變化，象徵靈活應對財務與生活挑戰的能力。<br>提醒維持平衡與穩定，適合同時處理多項任務與資源分配。<br>逆位： 暗示管理不善、壓力過大或資源失衡。<br>可能象徵過度承擔或無法應對變化，導致混亂與焦慮。<br>建議與對策： 優先處理重要事項，重新分配資源並確保管理系統的穩定與效率。',
            '錢幣3': '錢幣三 ——<br>合作與技能，努力與工藝的象徵。<br>正位：代表團隊合作與技能發展，象徵努力與專業能力得到肯定與成長機會。<br>提醒專注於細節並與他人合作，適合學習新技能或深化專業知識。<br>逆位： 暗示缺乏協作、技能不足或目標不清。<br>可能象徵合作破裂或努力未獲認可，導致進展受阻。<br>建議與對策： 強化技能與團隊溝通，確保計劃周全並提高工作效率與品質。',
            '錢幣4': '錢幣四 ——<br>控制與安全感，擁有與保護的象徵。<br>正位：代表財務安全與資源保護，象徵穩定與持有現狀的渴望。<br>提醒維持財務穩定但避免過度保守，適合儲蓄與投資計劃。<br>逆位： 暗示貪婪、財務壓力或對安全感的過度依賴。<br>可能象徵因恐懼失去控制而導致壓抑或過度儲蓄。<br>建議與對策： 重新評估資源分配與金錢觀，避免過度控制並學習適度分享與釋放。',
            '錢幣5': '錢幣五 ——<br>困難與失落，財務與安全挑戰的象徵。<br>正位：代表財務困難、資源短缺或孤立無援的情況，象徵需要克服物質與心理挑戰。<br>提醒尋求支持並相信困境終將過去。<br>逆位： 暗示財務恢復或重新獲得支持，象徵困難結束後的重建與療癒。<br>建議與對策： 尋找外部協助並積極採取行動改善現況，相信希望與改變的可能性。',
            '錢幣6': '錢幣六 ——<br>慷慨與平衡，分享與回報的象徵。<br>正位：代表慷慨施予與接受支持，象徵資源的分享與公平交換。<br>提醒感恩與適時幫助他人，適合參與慈善活動或支援社會計劃。<br>逆位： 暗示權力不平衡或過度依賴他人。<br>可能象徵施予的操控性或接受幫助時的被動心理。<br>建議與對策： 確保資源分配的平等與透明，避免依賴關係並強化自我獨立性。',
            '錢幣7': '錢幣七 ——<br>耐心與收成，評估與努力的象徵。<br>正位：代表付出努力後等待成果，象徵耐心與長期規劃的必要性。<br>提醒保持信心並審慎評估進度，適合調整策略以確保未來成長。<br>逆位： 暗示焦慮、急躁或對成果的不滿。<br>可能象徵投資失敗或努力未達預期，提醒重新審視方向與資源管理。<br>建議與對策： 反思當前策略，必要時進行調整，並保持耐心等待適當時機。',
            '錢幣8': '錢幣八 ——<br>技能與專業，學習與專注的象徵。<br>正位：代表勤奮努力與技能發展，象徵對工藝或事業的專注與精進。<br>提醒持續學習與改進技術，適合培養職業技能或專業知識。<br>逆位： 暗示缺乏專注、技術不足或對工作的厭倦。<br>可能象徵重複錯誤或缺乏進步，提醒重建動力與方向。<br>建議與對策： 回顧工作與學習的目標，確保動機與成果一致，避免偏離方向。',
            '錢幣9': '錢幣九 ——<br>獨立與享受，成就與物質富足的象徵。<br>正位：代表財務自由與個人成就，象徵自信與物質享受的成果。<br>提醒慶祝成功並感恩當下的豐足，適合規劃長期穩定的生活方式。<br>逆位： 暗示財務依賴、不安全感或享受過度。<br>可能象徵虛榮、自信不足或浪費資源導致的焦慮與不滿。<br>建議與對策： 重視財務規劃與平衡生活方式，保持感恩心態並謹慎管理資源。',
            '錢幣10': '錢幣十 ——<br>財務穩定與傳承，家庭與成就的象徵。<br>正位：代表長期穩定與物質成就，象徵家庭與財務安全的基礎。<br>提醒享受成果並計劃未來傳承，適合投資與建立長遠資產。<br>逆位： 暗示財務爭端、家庭問題或不穩定的基礎。<br>可能象徵資源浪費或安全感缺失，提醒重新檢視財務管理與家庭關係。<br>建議與對策： 平衡當下享受與未來規劃，解決財務與家庭內部的矛盾。',
            '錢幣侍者': '錢幣侍者 ——<br>學習與成長，機會與潛力的象徵。<br>正位：代表學習新技能與探索財務機會，象徵計劃的開始與實現潛力。<br>提醒保持專注與耐心，適合投入教育或事業發展。<br>逆位： 暗示缺乏準備或動力不足，可能象徵機會錯失或計劃執行困難。<br>提醒檢查基礎與策略，確保準備充分後再行動。<br>建議與對策： 提升技能與自信，穩步推動計劃並接受成長挑戰。',
            '錢幣騎士': '錢幣騎士 ——<br>責任與可靠，穩健與執行的象徵。<br>正位：代表勤奮與實際行動，象徵穩健進步與堅持計劃的執行。<br>提醒保持耐心與專注，適合處理細節並穩步推進目標。<br>逆位： 暗示停滯、拖延或過度保守。<br>可能象徵缺乏彈性或行動遲緩導致錯失機會。<br>建議與對策： 調整策略並加強執行力，避免過度拖延或過於謹慎的行為。',
            '錢幣皇后': '錢幣皇后 ——<br>豐饒與關懷，物質與安全感的象徵。<br>正位：代表財務穩定與實用能力，象徵關懷與培育物質與情感的成長。<br>提醒注重生活品質與財務管理，適合投資家庭與個人成長。<br>逆位： 暗示不安、浪費或過度依賴物質享受。<br>可能象徵缺乏實用計劃或物質失控導致的焦慮。<br>建議與對策： 調整預算並注重內在滿足，避免過度依賴物質帶來的安全感。',
            '錢幣國王': '錢幣國王 ——<br>權威與成功，穩健與管理的象徵。<br>正位：代表財務掌控與物質成就，象徵穩健與長遠的規劃能力。<br>提醒善用資源並保持領導力，適合管理資產與發展事業。<br>逆位： 暗示貪婪、固執或財務管理失敗。<br>可能象徵過度關注物質利益或忽視他人需求。<br>建議與對策： 保持謙遜並平衡利益與責任，確保決策理性與財務穩定。',
            '聖杯1': '聖杯一 ——<br>愛與新生，情感與靈感的象徵。<br>正位：代表新的情感開始與愛的機會，象徵幸福、和諧與靈性滿足。<br>提醒敞開心扉並接受愛與情感的滋養，適合建立新關係或深化情感連結。<br>逆位： 暗示情感阻塞、失落或愛的缺乏。<br>可能象徵內心空虛或情感創傷，提醒修復內在情感並學會自我愛護。<br>建議與對策： 專注於內心療癒，重建信任與情感聯繫，並尋找帶來滿足的關係或活動。',
            '聖杯2': '聖杯二 ——<br>合作與聯結，愛情與夥伴關係的象徵。<br>正位：代表平等的關係與情感聯繫，象徵合作與親密感的和諧發展。<br>提醒重視溝通與信任，適合深化感情或建立穩固的夥伴關係。<br>逆位： 暗示分歧、關係破裂或溝通障礙。<br>可能象徵不平等的互動或感情冷卻，提醒檢視並修復關係中的問題。<br>建議與對策： 誠實溝通並化解誤會，建立穩固的情感基礎，避免忽視彼此需求。',
            '聖杯3': '聖杯三 ——<br>歡樂與慶祝，友誼與團結的象徵。<br>正位：代表快樂、友情與團體慶祝，象徵社交活動與合作的成功。<br>提醒享受與他人的連結，適合參與活動或慶祝成果。<br>逆位： 暗示過度放縱、社交失衡或孤立感。<br>可能象徵關係緊張或缺乏團隊精神，提醒調整社交平衡並專注於有意義的連結。<br>建議與對策： 重視友誼與合作，避免過度社交或疏遠關係，專注於真實且支持性的互動。',
            '聖杯4': '聖杯四 ——<br>沉思與不滿，反思與停滯的象徵。<br>正位：代表情感冷淡與對現狀的不滿，象徵缺乏動力與興趣。<br>提醒重新評估情感需求並打破停滯狀態。<br>逆位： 暗示打破冷漠與重新接納機會。<br>可能象徵內心復甦與新的情感動力，提醒關注生活中的機遇並恢復積極態度。<br>建議與對策： 親近內心情感，勇敢突破自我限制，並尋找新的靈感與熱情。',
            '聖杯5': '聖杯五 ——<br>失落與悔恨，悲傷與學習的象徵。<br>正位：代表情感失落與失望，象徵對過去的傷痛與遺憾。<br>提醒專注於仍然擁有的事物，學習從失敗中汲取經驗並重建希望。<br>逆位： 暗示悲傷的釋放與情感復原，象徵逐漸走出痛苦並尋找新的開始。<br>提醒接受過去並專注於未來的可能性與發展機會。<br>建議與對策： 敞開心扉迎接新機會，將失落視為成長的機會，學會感恩與珍惜現有資源。',
            '聖杯6': '聖杯六 ——<br>回憶與懷舊，純真與關懷的象徵。<br>正位：代表童年的回憶與情感連結，象徵純真與友誼的溫暖感受。<br>提醒從過去汲取正面能量並保持內心純真。<br>逆位： 暗示過度沉迷於過去或對過去的依戀導致停滯不前。<br>可能象徵難以放下過去的關係或回憶，提醒關注當下並展望未來。<br>建議與對策： 保持對過去的感激，但要向前看，接受新的機會與變化。',
            '聖杯7': '聖杯七 ——<br>幻想與選擇，誘惑與決策的象徵。<br>正位：代表多重選擇與機會，象徵夢想與想像力的發揮。<br>提醒保持清晰思維，避免被幻想迷惑而失去焦點。<br>逆位： 暗示混亂、現實檢視或錯誤選擇的後果。<br>可能象徵脫離幻想與重新聚焦於實際行動，提醒避免拖延並付諸實踐。<br>建議與對策： 分析選項的可行性，做出理性選擇並將目標轉化為具體行動。',
            '聖杯8': '聖杯八 ——<br>放下與追尋，轉變與探索的象徵。<br>正位：代表離開熟悉環境並尋找更有意義的方向，象徵內心追求與靈性探索。<br>提醒勇敢放下不再滿足的事物，迎接新的成長機會。<br>逆位： 暗示難以離開或拒絕改變，象徵對現狀的執著與內心糾結。<br>提醒克服恐懼並信任新的方向帶來的可能性。<br>建議與對策： 放手過去並專注於個人成長與探索新的機會，勇敢邁向未知的旅程。',
            '聖杯9': '聖杯九 ——<br>滿足與願望實現，幸福與享受的象徵。<br>正位：代表情感滿足與願望成真，象徵享受成果與幸福感。<br>提醒珍惜當下的豐盛與快樂，適合慶祝成功與成就。<br>逆位： 暗示過度滿足或自我放縱，象徵空虛感或內在缺乏滿足。<br>可能顯示追求物質享樂而忽略內心需求。<br>建議與對策： 平衡內在與外在需求，保持謙遜與感恩，專注於長期的幸福與滿足感。',
            '聖杯10': '聖杯十 ——<br>幸福與和諧，家庭與圓滿的象徵。<br>正位：代表情感滿足與家庭幸福，象徵和諧關係與理想生活的實現。<br>提醒珍惜當下並維持家庭與社交的平衡與和諧。<br>逆位： 暗示家庭不和或期待未達成，象徵關係中的失望與衝突。<br>提醒重新審視關係並解決潛在問題。<br>建議與對策： 加強溝通與理解，修復關係並尋求情感上的穩定與和諧。',
            '聖杯侍者': '聖杯侍者 ——<br>靈感與愛情，純真與情感探索的象徵。<br>正位：代表新的情感或靈感，象徵純真的感受與新的關係開始。<br>提醒保持開放與好奇心，適合探索內心需求與創意發展。<br>逆位： 暗示情感不成熟、逃避或缺乏自信。<br>可能象徵情感依賴或錯誤的情感判斷。<br>建議與對策： 強化自我認知與情感表達，避免幻想過度並保持現實感。',
            '聖杯騎士': '聖杯騎士 ——<br>浪漫與魅力，追求與邀請的象徵。<br>正位：代表愛情邀請與情感探索，象徵浪漫的行動與夢想的追尋。<br>提醒保持浪漫與激情，適合展開新關係或表達情感。<br>逆位： 暗示情感不穩定或誘惑的危險。<br>可能象徵不切實際的期望或被情感迷惑。<br>建議與對策： 調整情感期望，保持冷靜與現實，避免被情緒帶偏。',
            '聖杯皇后': '聖杯皇后 ——<br>溫柔與同理心，直覺與照顧的象徵。<br>正位：代表情感豐富與關懷他人，象徵包容與情感的支持。<br>提醒信任直覺並提供情感支持，適合培養親密關係與創意發展。<br>逆位： 暗示情感失衡或過度依賴他人。<br>可能象徵情感操控或忽略自我需求。<br>建議與對策： 注意自我關愛與界限設立，保持情感穩定並避免過度犧牲。',
            '聖杯國王': '聖杯國王 ——<br>情感成熟與穩定，領導與智慧的象徵。<br>正位：代表同理心與穩定的情感管理，象徵成熟的情感表達與支持能力。<br>提醒理性管理情感並提供可靠的支持與建議。<br>逆位： 暗示情感壓抑或操控，象徵過度情緒化或缺乏同理心的行為。<br>可能反映內心的不安或情緒失控。<br>建議與對策： 平衡理性與情感，控制情緒反應並確保決策公正與穩定。'
        };
            return descriptions[item] || '沒有此牌，所以無詳細解說';
    }
    // 卡圖設定
    const tarotImageMap = {
        '愚者': 'img/t0.png',
        '魔術師': 'img/t1.png',
        '女祭司': 'img/t2.png',
        '皇后': 'img/t3.png',
        '皇帝': 'img/t4.png',
        '教皇': 'img/t5.png',
        '戀人': 'img/t6.png',
        '戰車': 'img/t7.png',
        '正義': 'img/t8.png',
        '隱者': 'img/t9.png',
        '命運之輪': 'img/t10.png',
        '力量': 'img/t11.png',
        '倒吊人': 'img/t12.png',
        '死神': 'img/t13.png',
        '節制': 'img/t14.png',
        '惡魔': 'img/t15.png',
        '天雷': 'img/t16.png',
        '星星': 'img/t17.png',
        '月亮': 'img/t18.png',
        '太陽': 'img/t19.png',
        '審判': 'img/t20.png',
        '世界': 'img/t21.png',
        '小鬼': 'img/joker_small.png',
        '鬼王': 'img/joker_big.png',
        '大吉': 'img/3g.png',
        '中吉': 'img/2g.png',
        '小吉': 'img/1g.png',
        '末吉': 'img/0g.png',
        '凶': 'img/1s.png',
        '大凶': 'img/2s.png',
            // 聖杯 (W)
    '聖杯1': 'img/W1.png',
    '聖杯2': 'img/W2.png',
    '聖杯3': 'img/W3.png',
    '聖杯4': 'img/W4.png',
    '聖杯5': 'img/W5.png',
    '聖杯6': 'img/W6.png',
    '聖杯7': 'img/W7.png',
    '聖杯8': 'img/W8.png',
    '聖杯9': 'img/W9.png',
    '聖杯10': 'img/W10.png',
    '聖杯侍者': 'img/W11.png',
    '聖杯騎士': 'img/W12.png',
    '聖杯皇后': 'img/W13.png',
    '聖杯國王': 'img/W14.png',

    // 權杖 (F)
    '權杖1': 'img/F1.png',
    '權杖2': 'img/F2.png',
    '權杖3': 'img/F3.png',
    '權杖4': 'img/F4.png',
    '權杖5': 'img/F5.png',
    '權杖6': 'img/F6.png',
    '權杖7': 'img/F7.png',
    '權杖8': 'img/F8.png',
    '權杖9': 'img/F9.png',
    '權杖10': 'img/F10.png',
    '權杖侍者': 'img/F11.png',
    '權杖騎士': 'img/F12.png',
    '權杖皇后': 'img/F13.png',
    '權杖國王': 'img/F14.png',

    // 寶劍 (S)
    '寶劍1': 'img/S1.png',
    '寶劍2': 'img/S2.png',
    '寶劍3': 'img/S3.png',
    '寶劍4': 'img/S4.png',
    '寶劍5': 'img/S5.png',
    '寶劍6': 'img/S6.png',
    '寶劍7': 'img/S7.png',
    '寶劍8': 'img/S8.png',
    '寶劍9': 'img/S9.png',
    '寶劍10': 'img/S10.png',
    '寶劍侍者': 'img/S11.png',
    '寶劍騎士': 'img/S12.png',
    '寶劍皇后': 'img/S13.png',
    '寶劍國王': 'img/S14.png',

    // 錢幣 (C)
    '錢幣1': 'img/C1.png',
    '錢幣2': 'img/C2.png',
    '錢幣3': 'img/C3.png',
    '錢幣4': 'img/C4.png',
    '錢幣5': 'img/C5.png',
    '錢幣6': 'img/C6.png',
    '錢幣7': 'img/C7.png',
    '錢幣8': 'img/C8.png',
    '錢幣9': 'img/C9.png',
    '錢幣10': 'img/C10.png',
    '錢幣侍者': 'img/C11.png',
    '錢幣騎士': 'img/C12.png',
    '錢幣皇后': 'img/C13.png',
    '錢幣國王': 'img/C14.png'
        };
    // 縮寫替換符號
    const suitSymbols = {
        's': '♠️', 
        'h': '♥️', 
        'c': '♣️', 
        'd': '♦️'  
    };
    // 縮寫替換符號設定
    function formatCardName(name) {
        const match = name.match(/^(\d+|[AKQJ])([shcd])$/); 
        if (match) {
            const value = match[1]; 
            const suit = match[2];
            return `${value}${suitSymbols[suit]}`;
        }
        return name; 
    }

    // 撲克牌面造型設定
    function generateCardContent(item) {
        if (tarotImageMap[item]) {
            return `
                <div style="width: 100%; height: 100%; display: flex; align-items: center; justify-content: center; 
                            background-image: url('${tarotImageMap[item]}'); 
                            background-size: cover; 
                            background-position: center; 
                            border-radius: 4px;">
                </div>`;
        }       
        if (/^10[shcd]$/.test(item)) { 
            const suit = item.charAt(2); 
            const symbol = suitSymbols[suit]; 
            return `
                <div style="position: relative; width: 100%; height: 100%; padding: 5px;">
                    <div style="position: absolute; top: 5px; left: 5px; font-weight: bold;">
                        <span style="font-size: 14px; writing-mode: horizontal-tb;">10</span>
                        <span style="font-size: 16px; writing-mode: vertical-rl;">${symbol}</span>
                    </div>
                    <div style="position: absolute; bottom: 5px; right: 5px; font-weight: bold; transform: rotate(180deg);">
                        <span style="font-size: 14px; writing-mode: horizontal-tb;">10</span>
                        <span style="font-size: 16px; writing-mode: vertical-rl;">${symbol}</span>
                    </div>
                </div>`;
        }
        if (/[♥️♠️♣️♦️]/.test(item)) {
            const symbol = item.match(/[♥️♠️♣️♦️]/)[0];
            const number = item.replace(/[♥️♠️♣️♦️]/, '');
            const displayText = (number === '10') 
                ? `<span style="display: inline-block; font-size: 12px; writing-mode: horizontal-tb !important;">${number}</span>
                   <span style="display: inline-block; font-size: 16px; writing-mode: vertical-rl;">${symbol}</span>`
                : `<span style="writing-mode: vertical-rl;">${item}</span>`; 
            return `
                <div style="position: relative; width: 100%; height: 100%; padding: 5px;">
                    <div style="position: absolute; top: 5px; left: 5px; font-size: 16px; font-weight: bold;">
                        ${displayText}
                    </div>
                    <div style="position: absolute; bottom: 5px; right: 5px; font-size: 16px; font-weight: bold; transform: rotate(180deg);">
                        ${displayText}
                    </div>
               </div>`;
        }
        return `<div style="text-align: center; font-size: 16px; font-weight: bold;">${item}</div>`;
    }
        // 點名設定
        callBtn.addEventListener('click', () => {
            clickSound.currentTime = 0; // 重置播放位置
            clickSound.play().catch(error => console.warn('按鈕音效失敗:', error));
            const items = inputArea.value.trim().split('\n').filter(Boolean);
            if (items.length < 1) {
                alert('請至少輸入一個項目進行點名！');
                return;
            }
            inputArea.style.display = 'none';
            exampleContainer.style.display = 'none'; 
            cardContainer.style.display = 'flex';
            cardContainer.innerHTML = '';
            const colorMap = {
                '#728ee2': ["經國","大竹","南崁","南昌","中壢","環東","桃鶯","正光","八德","龍潭","楊梅","龜山"],
                '#9bc490': ["竹北"],
                '#d4b280': ["公益","福科","崇德"],
                '#b48cc8': ["三峽","板橋","新泰","龍安","西門","永和"]
            };

            items.forEach(item => {
                const formattedItem = formatCardName(item);
                const card = document.createElement('div');
                card.className = 'card hoverable';
                card.textContent = formattedItem; 
                card.style.height = '28px'; 
                card.style.lineHeight = '28px';
                card.style.fontSize = '16px';
                card.style.textAlign = 'center';
                card.style.backgroundColor = '#e6c35c';
                card.style.color = '#000';
                card.style.fontWeight = 'bold';
                card.style.borderRadius = '4px';
                card.style.boxShadow = '0px 3px 5px rgba(0, 0, 0, 0.6)';
                if (item.length >= 4) { 
                    card.style.fontSize = '12px'; 
                }
                for (const [color, keywords] of Object.entries(colorMap)) {
                    if (keywords.includes(item)) {
                        card.style.backgroundColor = color;
                        break;
                    }
                }
                card.addEventListener('click', () => {
                    card.classList.toggle('dimmed');
                    card.classList.remove('hoverable'); 
                    setTimeout(() => card.classList.add('hoverable'), 10); 
                });
                cardContainer.appendChild(card);
            });
        });

        clearBtn.addEventListener('click', () => {
            cardContainer.classList.remove('tarot-mode');
            clickSound.currentTime = 0; // 重置播放位置
            clickSound.play().catch(error => console.warn('按鈕音效失敗:', error));
            inputArea.value = '';
            cardContainer.innerHTML = '';
            inputArea.style.display = 'block';
            exampleContainer.style.display = 'flex';
            exampleOptions.style.visibility = 'flex';
            cardContainer.style.display = 'none';
            descriptionBox.style.display = 'none';
        });

        // 時間顯示函數
        function updateTime() {
            const now = new Date();
            const year = now.getFullYear(); // 年
            const month = String(now.getMonth() + 1).padStart(2, '0'); // 月 (補0)
            const day = String(now.getDate()).padStart(2, '0'); // 日 (補0)
            const hours = String(now.getHours()).padStart(2, '0'); // 時
            const minutes = String(now.getMinutes()).padStart(2, '0'); // 分
            const seconds = String(now.getSeconds()).padStart(2, '0'); // 秒

            document.getElementById('time-display').textContent =
                `${year}/${month}/${day} ${hours}:${minutes}:${seconds}`;
        }
        // 每秒更新一次時間
        setInterval(updateTime, 1000);
        updateTime();
        
    // 音效與 BGM 控制
const bgmAudio = new Audio('https://crisvictor.github.io/dccool/m/lost-in-dreams.mp3');
bgmAudio.loop = true; // 設置 BGM 循環播放
bgmAudio.volume = 0.5; // 預設音量

const volumeSlider = document.getElementById('volume-slider');
const bgmButton = document.getElementById('bgm-button');
const muteIcon = document.createElement('span'); 
muteIcon.id = 'mute-icon';
muteIcon.textContent = '🔇';
muteIcon.style.display = 'none';
volumeSlider.parentElement.insertBefore(muteIcon, volumeSlider); 

function updateSliderFill() {
    const value = (volumeSlider.value - volumeSlider.min) / 
                  (volumeSlider.max - volumeSlider.min) * 100;
    volumeSlider.style.background = `linear-gradient(to right, 
        rgba(49, 97, 197, 0.8) ${value}%, 
        rgba(19, 67, 167, 0.2) ${value}%)`;
}

volumeSlider.addEventListener('input', (event) => {
    const volume = parseFloat(event.target.value);
    bgmAudio.volume = volume;
    shuffleSound.volume = volume; 
    flipSound.volume = volume;   
    scoreSound.volume = volume;  
    clickSound.volume = volume;  

    updateSliderFill();

    if (volume === 0) {
        muteIcon.style.display = 'inline'; 
        bgmButton.style.backgroundColor = 'rgba(209, 111, 111, 0.3)';
    } else {
        muteIcon.style.display = 'none'; 
        bgmButton.style.backgroundColor = 'rgba(79, 101, 121, 0.3)';
    }
});

let isPlaying = false;
bgmButton.addEventListener('click', () => {
    if (isPlaying) {
        bgmAudio.pause();
        bgmButton.textContent = '♫'; 
    } else {
        bgmAudio.play();
        bgmButton.textContent = '❚❚'; 
    }
    isPlaying = !isPlaying;
});

shuffleSound.volume = 0.5; 
flipSound.volume = 0.5;  
scoreSound.volume = 0.5;
clickSound.volume = 0.5;

updateSliderFill();
    </script>
</body>
</html>
